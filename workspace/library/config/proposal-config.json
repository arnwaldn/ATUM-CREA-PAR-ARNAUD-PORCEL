{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "version": "27.17",
  "name": "Competitive Agent Selection Configuration",
  "description": "Lite auction system for agent proposals (inspired by AEX RTB)",
  "source_pattern": "Agent Exchange (AEX) - RTB Auction Mechanism (adapted)",

  "selection_mode": {
    "default": "competitive",
    "modes": ["direct", "competitive", "hybrid"],
    "description": {
      "direct": "Assign to best-matching agent immediately (v27.16 behavior)",
      "competitive": "Request proposals from multiple agents, select best",
      "hybrid": "Direct for simple tasks, competitive for complex"
    }
  },

  "proposal_settings": {
    "max_proposers": 3,
    "proposal_timeout_ms": 5000,
    "min_proposals_required": 2,
    "fallback_to_direct": true
  },

  "evaluation_criteria": {
    "approach_quality": {
      "weight": 0.35,
      "factors": ["clarity", "completeness", "innovation"]
    },
    "estimated_complexity": {
      "weight": 0.25,
      "scale": "1-10",
      "prefer": "lower"
    },
    "agent_reputation": {
      "weight": 0.25,
      "source": "reputation-data.json"
    },
    "task_type_experience": {
      "weight": 0.15,
      "source": "reputation byTaskType"
    }
  },

  "complexity_thresholds": {
    "simple": {
      "max_complexity": 3,
      "selection_mode": "direct"
    },
    "medium": {
      "max_complexity": 6,
      "selection_mode": "hybrid"
    },
    "complex": {
      "max_complexity": 10,
      "selection_mode": "competitive"
    }
  },

  "proposal_schema": {
    "type": "object",
    "required": ["agentId", "approach", "estimatedComplexity"],
    "properties": {
      "agentId": {
        "type": "string",
        "description": "ID of the proposing agent"
      },
      "approach": {
        "type": "object",
        "properties": {
          "summary": {
            "type": "string",
            "description": "Brief description of the approach"
          },
          "steps": {
            "type": "array",
            "items": { "type": "string" },
            "description": "Ordered list of implementation steps"
          },
          "technologies": {
            "type": "array",
            "items": { "type": "string" },
            "description": "Technologies/tools to be used"
          },
          "risks": {
            "type": "array",
            "items": { "type": "string" },
            "description": "Potential risks or challenges"
          },
          "alternatives": {
            "type": "array",
            "items": { "type": "string" },
            "description": "Alternative approaches considered"
          }
        }
      },
      "estimatedComplexity": {
        "type": "integer",
        "minimum": 1,
        "maximum": 10,
        "description": "Estimated task complexity (1=trivial, 10=very complex)"
      },
      "estimatedSteps": {
        "type": "integer",
        "description": "Number of steps to complete"
      },
      "confidence": {
        "type": "number",
        "minimum": 0,
        "maximum": 100,
        "description": "Agent's confidence in successful completion"
      },
      "dependencies": {
        "type": "array",
        "items": { "type": "string" },
        "description": "Required dependencies or prerequisites"
      }
    }
  },

  "trigger_rules": {
    "always_competitive": [
      "architectural decision",
      "multi-component feature",
      "refactoring",
      "performance optimization"
    ],
    "always_direct": [
      "typo fix",
      "single line change",
      "documentation update"
    ]
  },

  "logging": {
    "log_proposals": true,
    "log_evaluations": true,
    "log_selections": true,
    "log_file": "logs/proposal-evaluations.log"
  }
}
